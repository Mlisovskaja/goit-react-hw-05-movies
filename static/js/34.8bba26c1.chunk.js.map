{"version":3,"file":"static/js/34.8bba26c1.chunk.js","mappings":"gzBACA,MAAsB,8B,SCqEtB,EA9DyB,WAAO,IAAD,IAC7B,GAA0BA,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAA/BC,EAAK,KAAEC,EAAQ,KAEdC,GAAOC,EAAAA,EAAAA,MAAPD,GAEFE,GAAWC,EAAAA,EAAAA,MACXC,GAAMC,EAAAA,EAAAA,QAA2B,QAArB,EAAe,QAAf,EAACH,EAASI,aAAK,aAAd,EAAgBC,YAAI,QAAI,YAE3CC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,8GAEGC,EAAAA,EAAAA,IAAaV,GAAI,KAAD,EAA7BW,EAAI,OACVZ,EAASY,GAAM,gDAEfC,MAAM,+BAA+B,yDAExC,kBAPgB,mCAQjBH,GACF,GAAG,CAACT,IAEJ,IAEoBW,EAQpB,OACE,iCACE,iBAAKE,UAAWC,EAAW,WACzB,SAAC,KAAI,CAACC,GAAIX,EAAIY,QAAQ,SAAC,aACvB,gBAAKC,IAdQ,kCAcUnB,EAAMoB,YAAaC,IAAKrB,EAAMsB,SACrD,0BACGtB,EAAMsB,MAAM,MAdDT,EAceb,EAAMuB,aAbnCV,EACKA,EAAKW,MAAM,EAAG,GAEN,aAUoC,QAEjD,yBAAG,eAAaC,KAAKC,MAAM1B,EAAM2B,YAAY,QAC7C,wBAAI,cACJ,uBAAI3B,EAAM4B,YACV,wBAAI,YACJ,wBAAsB5B,EAAM6B,OC9CjBC,EACUD,OAAOE,KAAI,SAAAC,GAAK,OAAIA,EAAMC,KAAO,GAAG,IAAET,MAAM,EAAG,GACrDU,KAAK,YD8CtB,4BACE,wBAAI,4BACJ,0BACE,SAAC,KAAI,CAACjB,GAAG,OAAOT,MAAO,CAAEF,IAAAA,GAAM,SAAC,YAIlC,0BACE,SAAC,KAAI,CAACW,GAAG,UAAUT,MAAO,CAAEF,IAAAA,GAAM,SAAC,eAIrC,SAAC,KAAM,SAIf,C,+LElEa6B,EAAc,mCAAG,sGACPC,EAAAA,EAAAA,IAAU,4FAE7B,KAAD,EAFU,OAEV,SAFMvB,EAAI,EAAJA,KAAI,kBAIJA,EAAKwB,SAAO,2CACpB,kBAN0B,mCAQdzB,EAAY,mCAAG,WAAOV,GAAE,yFACdkC,EAAAA,EAAAA,IAAU,uCAAD,OACWlC,EAAE,6DACzC,KAAD,EAFU,OAEV,SAFMW,EAAI,EAAJA,KAAI,kBAIJA,GAAI,2CACZ,gBANwB,sCAQZyB,EAAS,mCAAG,WAAOpC,GAAE,yFACXkC,EAAAA,EAAAA,IAAU,uCAAD,OACWlC,EAAE,qEACzC,KAAD,EAFU,OAEV,SAFMW,EAAI,EAAJA,KAAI,kBAIJA,EAAK0B,MAAI,2CACjB,gBANqB,sCAQTC,EAAY,mCAAG,WAAOtC,GAAE,yFACdkC,EAAAA,EAAAA,IAAU,uCAAD,OACWlC,EAAE,qEACzC,KAAD,EAFU,OAEV,SAFMW,EAAI,EAAJA,KAAI,kBAIJA,EAAKwB,SAAO,2CACpB,gBANwB,sCAQZI,EAAY,mCAAG,WAAOC,GAAK,yFACjBN,EAAAA,EAAAA,IAAU,2GAAD,OAC+EM,EAAK,gCAChH,KAAD,EAFU,OAEV,SAFM7B,EAAI,EAAJA,KAAI,kBAIJA,EAAKwB,SAAO,2CACpB,gBANwB,qC","sources":["webpack://react-homework-template/./src/components/Pages/movieDetailsPage.module.css?038a","components/Pages/MovieDetailsPage.jsx","components/Shared/findGenre.js","components/Shared/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"box\":\"movieDetailsPage_box__2+ffh\"};","import { useState, useEffect } from 'react';\nimport { useRef } from 'react';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { movieDetails } from 'components/Shared/Api';\nimport { findGenresOfMovie } from 'components/Shared/findGenre';\n\nimport styles from './movieDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const [items, setItems] = useState({});\n\n  const { id } = useParams();\n\n  const location = useLocation();\n  const ref = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        const data = await movieDetails(id);\n        setItems(data);\n      } catch {\n        alert('Ooops, something went wrong');\n      }\n    };\n    fetchMovies();\n  }, [id]);\n\n  const linkPoster = 'https://image.tmdb.org/t/p/w400';\n\n  function createYear(data) {\n    if (data) {\n      return data.slice(0, 4);\n    } else {\n      return (data = 'Not found');\n    }\n  }\n\n  return (\n    <>\n      <div className={styles.box}>\n        <Link to={ref.current}>Go back</Link>\n        <img src={linkPoster + items.poster_path} alt={items.title} />\n        <h2>\n          {items.title} ({createYear(items.release_date)})\n        </h2>\n        <p>User score: {Math.round(items.popularity)}%</p>\n        <h3>Overview</h3>\n        <p>{items.overview}</p>\n        <h3>Genres</h3>\n        <p>{findGenresOfMovie(items.genres)}</p>\n      </div>\n      <div>\n        <h3>Additional information</h3>\n        <div>\n          <Link to=\"cast\" state={{ ref }}>\n            Cast\n          </Link>\n        </div>\n        <div>\n          <Link to=\"reviews\" state={{ ref }}>\n            Reviews\n          </Link>\n        </div>\n        <Outlet />\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","import allGenres from './genres.json';\n\n\nfunction findGenresOfMovie() {\n    const genres = allGenres;\n    let movieGenres = genres.genres.map(genre => genre.name + ' ').slice(0, 3)\n    return movieGenres.join(' ');\n  \n}\n\nexport { findGenresOfMovie };","import axios from 'axios';\n\nexport const trendingMovies = async () => {\n  const {data} = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=c60edd70b8b52249425a4fc37989f133`\n  );\n\n  return data.results;\n};\n\nexport const movieDetails = async (id) => {\n  const {data} = await axios.get(\n    `https://api.themoviedb.org/3/movie//${id}?api_key=c60edd70b8b52249425a4fc37989f133&language=en-US`\n  );\n\n  return data;\n};\n\nexport const movieCast = async (id) => {\n  const {data} = await axios.get(\n    `https://api.themoviedb.org/3/movie//${id}/credits?api_key=c60edd70b8b52249425a4fc37989f133&language=en-US`\n  );\n\n  return data.cast;\n};\n\nexport const movieReviews = async (id) => {\n  const {data} = await axios.get(\n    `https://api.themoviedb.org/3/movie//${id}/reviews?api_key=c60edd70b8b52249425a4fc37989f133&language=en-US`\n  );\n\n  return data.results;\n};\n\nexport const searchMovies = async (query) => {\n  const {data} = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=c60edd70b8b52249425a4fc37989f133&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n\n  return data.results;\n};\n\n\n\n"],"names":["useState","items","setItems","id","useParams","location","useLocation","ref","useRef","state","from","useEffect","fetchMovies","movieDetails","data","alert","className","styles","to","current","src","poster_path","alt","title","release_date","slice","Math","round","popularity","overview","genres","allGenres","map","genre","name","join","trendingMovies","axios","results","movieCast","cast","movieReviews","searchMovies","query"],"sourceRoot":""}